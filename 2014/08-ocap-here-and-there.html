<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8" />
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <title>MadMode: Capability Security Advances: seL4, sandstorm, Rserve | Code</title>
    <meta name="description" content="MadMode by Dan Connolly"/>
    <meta name="viewport" content="width=device-width"/>

    <!-- https://dev.twitter.com/docs/cards -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:creator" content="dckc">
    <link rel="stylesheet" type="text/css" href="/static/packed.css?1403980370"/>
    <link rel="alternate" type="application/rss+xml" href="/feed/" title="Everything (RSS)"/>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
<body class="">
    <!--[if lt IE 7]>
    <p class="chromeframe">Your browser is <em>ancient!</em> Please <a href="http://www.quirksmode.org/upgrade.html">upgrade</a>.</p>
    <![endif]-->
    <div class="container">
        <header class="main-title">
            <h1><a href="/">MadMode</a></h1>
            <small>Dan Connolly's tinkering lab notebook</small>
        </header>
        <div class="contents">
            

    <article lang="en" class="" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
    <link itemprop="url" href="/2014/08-ocap-here-and-there.html" />
    <header>
        <h2><a itemprop="name" href="/2014/08-ocap-here-and-there.html">Capability Security Advances: seL4, sandstorm, Rserve</a></h2></header>
    
    <section>
        <p>They did it. It's done. General Dynamics C4 Systems and NICTA released
<a href="http://sel4.systems/">seL4</a> under an open source license. I've been wishing for this
since 2012, when I bookmarked the <a href="http://www.ertos.nicta.com.au/research/sel4/">seL4 papers</a> under
<a href="https://www.diigo.com/user/dckc-madmode/security%20research?sort=created">security research</a>.</p>
<p>Oh for time to study all the details! The formal model of C, the translator
from C to Isabelle, and on and on.</p>
<p>I wonder what it would take to put node-js on seL4, with no linux
kernel in between. Then, using <a href="http://research.google.com/pubs/pub40673.html">secure-ecmascript and such</a>, we might
have a complete capability based platform.</p>
<p>Meanwhile, <a href="https://sandstorm.io/">sandstorm</a> is an emerging personal clound platform with
a capability security architecture (<a href="http://kentonv.github.io/capnproto/">cap'n proto</a> etc.). I
pitched in to the kickstarter campaign because I really want to use it
but I doubt I'll find time to host it myself.</p>
<p>But what really surprised me was that while wrestling with some python/R
foreign function interface issues, I discovered this bit of <a href="http://rforge.net/Rserve/dev.html">rserve news</a>:</p>
<blockquote>
<h2>Additions in version 1.7</h2>
<p>... Another major change is the new, optional object capability mode
in which all commands are disabled except for CMD_OCcall. In this
mode the server does not send an ID string, but instead sends a
regular QAP1 message with CMD_OCinit. This message is guaranteed to
have at least 16 bytes of payload so it will satisfy the read for an
ID string. The command has been chosen to correspond to "RsOC" (in
little-endian) as to identify this mode. The payload is DT_SEXP
which holds all initial capabilities that can be used in
CMD_OCcall. Each CMD_OCcall is DT_SEXP encoding a call (i.e.,
LANGSXP) with an OCref object in place of the closure. Rserve will
de-reference it before calling eval. The main purpose of this mode
is to create a basis for a secure interface where arbitrary
evaluation is not possible. Only code exposed by capabilities can be
executed.</p>
</blockquote>
<p>The <a href="https://github.com/att/rcloud/issues/73">rcloud move to Rserve OCAP mode</a> seems to be done.  I filed a
<a href="https://github.com/ralhei/pyRserve/issues/5">wish for support in pyRserve</a>.</p>
    </section>
    <aside>
        <p>
            <span class="article-author" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
                <span itemprop="name">Dan Connolly</span> —
            </span>
            <time datetime="2014-08-13" itemprop="datePublished">2014-08-13</time>
            
            — <a href="/2014/08-ocap-here-and-there.html">Permalink</a>
            — <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">License</a>.
	    <br />
	    
	    | <a class='tag' rel='tag'
		 href="/search/label/programming/">programming</a>
   	    
	    | <a class='tag' rel='tag'
		 href="/search/label/security/">security</a>
   	    
	    | <a class='tag' rel='tag'
		 href="/search/label/capabilities/">capabilities</a>
   	    
	    | <a class='tag' rel='tag'
		 href="/search/label/python/">python</a>
   	    
	    | <a class='tag' rel='tag'
		 href="/search/label/javascript/">javascript</a>
   	    
	    | <a class='tag' rel='tag'
		 href="/search/label/vm/">vm</a>
   	    
	    | <a class='tag' rel='tag'
		 href="/search/label/seL4/">seL4</a>
   	    
	    | <a class='tag' rel='tag'
		 href="/search/label/kernel/">kernel</a>
   	    
        </p>
    </aside>
    <hr />
    <nav>
        <a class="prev" href="/2014/08-rust-sqlite3.html">Rust-Sqlite3 -- Rustic bindings for sqlite3</a>
        |
        <a class="next" href="/2014/06-pada1.html">A Start in the Craft of Quality Software Development</a>
    </nav>
</article>


        </div>
        <nav class="sidebar">
            <ul>
                <li class="home"><a href="/" hreflang="en">Home</a></li>
<!-- @@                <li class="code"><a href="@@ url_for("section", section="code") }}" hreflang="en">Blog</a></li> -->
               <li>Archives
		 
               </li>

                <li class="contact"><a href="/contact/" hreflang="en">Contact</a></li>
            </ul>
        </nav>
        <footer class="site-footer">
            <address>
                &#169; 1994-2014 Dan Connolly
		&nbsp;&nbsp;&nbsp;
                <a href="https://twitter.com/dckc" rel="me">
		<img src="/static/img/twitter_icon.png"
		     width="40px" height="40px" class="social-icon"
		     alt="@dckc" /></a>
		&nbsp;&nbsp;&nbsp;
                <a href="http://bitbucket.org/DanC" rel="me">
		<img src="/static/img/bitbucket_icon.png"
		     width="40px" height="40px" class="social-icon"
		     alt="bitbucket/DanC code" /></a>
		&nbsp;&nbsp;&nbsp;
                <a href="https://github.com/dckc" rel="me">
		<img src="/static/img/GitHub-Mark/PNG/GitHub-Mark-64px.png"
		     width="40px" height="40px" class="social-icon"
		     alt="dckc on github" /></a>
		</a>
		&nbsp;&nbsp;&nbsp;
                <a href="/contact/">Contact me</a>
            </address>
        </footer>
    </div>
    <!-- /container -->

    <!-- TODO: add this only to ipython articles -->
    <!-- cribbed from ipython's html_full.tpl -->
<!-- updated w.r.t. http://docs.mathjax.org/en/latest/start.html -->
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<script type="text/javascript">
init_mathjax = function() {
    if (window.MathJax) {
        // MathJax loaded
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [ ["\\(","\\)"] ],
                displayMath: [ ["\\[","\\]"] ]
            },
            displayAlign: 'left', // Change this to 'center' to center equations.
            "HTML-CSS": {
                styles: {'.MathJax_Display': {"margin": 0}}
            }
        });
        MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
    }
}
init_mathjax();
</script>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script><![CDATA[window.jQuery || document.write('<script src="js/libs/jquery-1.7.1.min.js"><\/script>')]]></script>
    <script type="text/javascript" src="/static/packed.js?1403980370"></script>
    <script src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
</body>
</html>